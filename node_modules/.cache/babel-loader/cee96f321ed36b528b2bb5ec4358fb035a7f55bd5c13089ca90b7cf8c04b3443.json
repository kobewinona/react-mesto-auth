{"ast":null,"code":"import _objectSpread from\"/Users/dmitriklimkin/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useRef}from'react';import FormWithValidation from'./FormWithValidation';import Spinner from'./Spinner';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PopupWithForm=/*#__PURE__*/React.memo(function(props){var submitButtonRef=useRef();if(!props.validate&&props.isOpen){setTimeout(function(){var _submitButtonRef$curr;return(_submitButtonRef$curr=submitButtonRef.current)===null||_submitButtonRef$curr===void 0?void 0:_submitButtonRef$curr.focus();},50);}return/*#__PURE__*/_jsx(\"section\",{className:\"popup popup_base_light \".concat(props.isOpen&&'popup_opened'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup__container popup__container_type_form \".concat(props.isOpen?'grow':'shrink'),children:[/*#__PURE__*/_jsx(\"button\",{className:\"popup__close-button\",type:\"button\",\"aria-label\":\"\\u0417\\u0430\\u043A\\u0440\\u044B\\u0442\\u044C.\",onClick:props.onClose}),/*#__PURE__*/_jsx(\"h2\",{className:\"popup__title\",children:props.title}),props.validate?/*#__PURE__*/_jsx(FormWithValidation,_objectSpread(_objectSpread({onSubmit:props.onSubmit},props),{},{children:props.children})):/*#__PURE__*/_jsx(\"form\",{className:\"form\",name:props.name,onSubmit:props.onSubmit,noValidate:true,autoFocus:true,children:props.isLoading?/*#__PURE__*/_jsx(Spinner,{}):/*#__PURE__*/_jsx(\"button\",{ref:submitButtonRef,className:\"form__submit\",type:\"submit\",name:\"submit\",autoFocus:true,children:props.submitText||'Сохранить'})})]})});});export default PopupWithForm;","map":{"version":3,"names":["React","useRef","FormWithValidation","Spinner","jsx","_jsx","jsxs","_jsxs","PopupWithForm","memo","props","submitButtonRef","validate","isOpen","setTimeout","_submitButtonRef$curr","current","focus","className","concat","children","type","onClick","onClose","title","_objectSpread","onSubmit","name","noValidate","autoFocus","isLoading","ref","submitText"],"sources":["/Users/dmitriklimkin/dev/mesto-react/src/components/PopupWithForm.jsx"],"sourcesContent":["import React, {useRef} from 'react';\n\nimport FormWithValidation from './FormWithValidation';\nimport Spinner from './Spinner';\n\n\nconst PopupWithForm = React.memo((props) => {\n  const submitButtonRef = useRef();\n\n  if (!props.validate && props.isOpen) {\n    setTimeout(() => submitButtonRef.current?.focus(), 50);\n  }\n  \n  return (\n    <section className={`popup popup_base_light ${props.isOpen && 'popup_opened'}`}>\n      <div className={`popup__container popup__container_type_form ${props.isOpen ? 'grow' : 'shrink'}`}>\n        <button\n          className=\"popup__close-button\" type=\"button\" aria-label=\"Закрыть.\" onClick={props.onClose}\n        />\n        <h2 className=\"popup__title\">{props.title}</h2>\n        {props.validate\n          ? <FormWithValidation onSubmit={props.onSubmit} {...props}>\n            {props.children}\n          </FormWithValidation>\n          : <form\n            className=\"form\"\n            name={props.name}\n            onSubmit={props.onSubmit}\n            noValidate\n            autoFocus\n          >\n            {props.isLoading\n              ? <Spinner />\n              : <button\n                ref={submitButtonRef}\n                className=\"form__submit\"\n                type=\"submit\"\n                name=\"submit\"\n                autoFocus\n              >{props.submitText || 'Сохранить'}</button>}\n          </form>\n        }\n        \n      </div>\n    </section>\n  );\n})\n\nexport default PopupWithForm;"],"mappings":"yHAAA,MAAO,CAAAA,KAAK,EAAGC,MAAM,KAAO,OAAO,CAEnC,MAAO,CAAAC,kBAAkB,KAAM,sBAAsB,CACrD,MAAO,CAAAC,OAAO,KAAM,WAAW,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAGhC,GAAM,CAAAC,aAAa,cAAGR,KAAK,CAACS,IAAI,CAAC,SAACC,KAAK,CAAK,CAC1C,GAAM,CAAAC,eAAe,CAAGV,MAAM,CAAC,CAAC,CAEhC,GAAI,CAACS,KAAK,CAACE,QAAQ,EAAIF,KAAK,CAACG,MAAM,CAAE,CACnCC,UAAU,CAAC,eAAAC,qBAAA,QAAAA,qBAAA,CAAMJ,eAAe,CAACK,OAAO,UAAAD,qBAAA,iBAAvBA,qBAAA,CAAyBE,KAAK,CAAC,CAAC,GAAE,EAAE,CAAC,CACxD,CAEA,mBACEZ,IAAA,YAASa,SAAS,2BAAAC,MAAA,CAA4BT,KAAK,CAACG,MAAM,EAAI,cAAc,CAAG,CAAAO,QAAA,cAC7Eb,KAAA,QAAKW,SAAS,gDAAAC,MAAA,CAAiDT,KAAK,CAACG,MAAM,CAAG,MAAM,CAAG,QAAQ,CAAG,CAAAO,QAAA,eAChGf,IAAA,WACEa,SAAS,CAAC,qBAAqB,CAACG,IAAI,CAAC,QAAQ,CAAC,aAAW,6CAAU,CAACC,OAAO,CAAEZ,KAAK,CAACa,OAAQ,CAC5F,CAAC,cACFlB,IAAA,OAAIa,SAAS,CAAC,cAAc,CAAAE,QAAA,CAAEV,KAAK,CAACc,KAAK,CAAK,CAAC,CAC9Cd,KAAK,CAACE,QAAQ,cACXP,IAAA,CAACH,kBAAkB,CAAAuB,aAAA,CAAAA,aAAA,EAACC,QAAQ,CAAEhB,KAAK,CAACgB,QAAS,EAAKhB,KAAK,MAAAU,QAAA,CACtDV,KAAK,CAACU,QAAQ,EACG,CAAC,cACnBf,IAAA,SACAa,SAAS,CAAC,MAAM,CAChBS,IAAI,CAAEjB,KAAK,CAACiB,IAAK,CACjBD,QAAQ,CAAEhB,KAAK,CAACgB,QAAS,CACzBE,UAAU,MACVC,SAAS,MAAAT,QAAA,CAERV,KAAK,CAACoB,SAAS,cACZzB,IAAA,CAACF,OAAO,GAAE,CAAC,cACXE,IAAA,WACA0B,GAAG,CAAEpB,eAAgB,CACrBO,SAAS,CAAC,cAAc,CACxBG,IAAI,CAAC,QAAQ,CACbM,IAAI,CAAC,QAAQ,CACbE,SAAS,MAAAT,QAAA,CACTV,KAAK,CAACsB,UAAU,EAAI,WAAW,CAAS,CAAC,CACzC,CAAC,EAGN,CAAC,CACC,CAAC,CAEd,CAAC,CAAC,CAEF,cAAe,CAAAxB,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}