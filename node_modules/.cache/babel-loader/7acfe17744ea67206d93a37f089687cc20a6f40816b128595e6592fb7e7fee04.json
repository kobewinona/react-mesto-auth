{"ast":null,"code":"import _slicedToArray from\"/Users/dmitriklimkin/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import api from'../utils/Api';import Card from'./Card';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Main(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),userAvatar=_useState2[0],setUserAvatar=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),userName=_useState4[0],setUserName=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),userJob=_useState6[0],setUserJob=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),initialCards=_useState8[0],setInitialCards=_useState8[1];useEffect(function(){Promise.all([api.getUserInfo(),api.getInitialCards()]).then(function(_ref){var _ref2=_slicedToArray(_ref,2),_ref2$=_ref2[0],avatar=_ref2$.avatar,name=_ref2$.name,about=_ref2$.about,initialCards=_ref2[1];setUserAvatar(avatar);setUserName(name);setUserJob(about);setInitialCards(initialCards);}).catch(function(err){return console.log(err);});},[]);return/*#__PURE__*/_jsxs(\"main\",{className:\"content\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"profile\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile__avatar-container\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"profile__avatar \".concat(userAvatar&&'profile__avatar_displayed'),src:userAvatar,alt:\"\\u0410\\u0432\\u0430\\u0442\\u0430\\u0440.\"}),/*#__PURE__*/_jsx(\"button\",{className:\"profile__edit-avatar-button\",onClick:props.onEditAvatar})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile__container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"profile__name\",children:userName}),/*#__PURE__*/_jsx(\"button\",{className:\"profile__edit-profile-button\",type:\"button\",\"aria-label\":\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C.\",onClick:props.onEditProfile}),/*#__PURE__*/_jsx(\"p\",{className:\"profile__job\",children:userJob})]}),/*#__PURE__*/_jsx(\"button\",{className:\"profile__add-place-button\",type:\"button\",\"aria-label\":\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0444\\u043E\\u0442\\u043E\\u0433\\u0440\\u0430\\u0444\\u0438\\u044E \\u043C\\u0435\\u0441\\u0442\\u0430.\",onClick:props.onAddPlace})]}),/*#__PURE__*/_jsx(\"section\",{className:\"places\",\"aria-label\":\"\\u0421\\u0435\\u043A\\u0446\\u0438\\u044F \\u0441 \\u0444\\u043E\\u0442\\u043E\\u0433\\u0440\\u0430\\u0444\\u0438\\u044F\\u043C\\u0438 \\u043C\\u0435\\u0441\\u0442 \\u0420\\u043E\\u0441\\u0441\\u0438\\u0438.\",children:/*#__PURE__*/_jsx(\"ul\",{className:\"places__list\",children:initialCards.map(function(card){return/*#__PURE__*/_jsx(Card,{card:card,onCardClick:function onCardClick(){return props.onCardClick(card);}},card._id);})})})]});}export default Main;","map":{"version":3,"names":["useState","useEffect","api","Card","jsx","_jsx","jsxs","_jsxs","Main","props","_useState","_useState2","_slicedToArray","userAvatar","setUserAvatar","_useState3","_useState4","userName","setUserName","_useState5","_useState6","userJob","setUserJob","_useState7","_useState8","initialCards","setInitialCards","Promise","all","getUserInfo","getInitialCards","then","_ref","_ref2","_ref2$","avatar","name","about","catch","err","console","log","className","children","concat","src","alt","onClick","onEditAvatar","type","onEditProfile","onAddPlace","map","card","onCardClick","_id"],"sources":["/Users/dmitriklimkin/dev/mesto-react/src/components/Main.jsx"],"sourcesContent":["import {useState, useEffect} from 'react';\nimport api from '../utils/Api';\nimport Card from './Card';\n\nfunction Main(props) {\n  const [userAvatar, setUserAvatar] = useState('');\n  \n  const [userName, setUserName] = useState('');\n  const [userJob, setUserJob] = useState('');\n  \n  const [initialCards, setInitialCards] = useState([]);\n  \n  useEffect(() => {\n    Promise.all([api.getUserInfo(), api.getInitialCards()])\n      .then(([{avatar, name, about}, initialCards]) => {\n        setUserAvatar(avatar);\n        \n        setUserName(name);\n        setUserJob(about);\n        \n        setInitialCards(initialCards);\n      }).catch(err => console.log(err));\n  }, []);\n  \n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <div className=\"profile__avatar-container\">\n          <img\n            className={`profile__avatar ${userAvatar && 'profile__avatar_displayed'}`}\n            src={userAvatar} alt=\"Аватар.\"/>\n          <button\n            className=\"profile__edit-avatar-button\"\n            onClick={props.onEditAvatar}>\n          </button>\n        </div>\n        <div className=\"profile__container\">\n          <h1 className=\"profile__name\">{userName}</h1>\n          <button\n            className=\"profile__edit-profile-button\"\n            type=\"button\"\n            aria-label=\"Редактировать профиль.\"\n            onClick={props.onEditProfile}>\n          </button>\n          <p className=\"profile__job\">{userJob}</p>\n        </div>\n        <button\n          className=\"profile__add-place-button\"\n          type=\"button\"\n          aria-label=\"Добавить фотографию места.\"\n          onClick={props.onAddPlace}>\n        </button>\n      </section>\n      <section className=\"places\" aria-label=\"Секция с фотографиями мест России.\">\n        <ul className=\"places__list\">\n          {initialCards.map((card) => {\n            return <Card\n              key={card._id}\n              card={card}\n              onCardClick={() => props.onCardClick(card)}/>;\n          })}\n        </ul>\n      </section>\n    </main>\n  );\n}\n\nexport default Main;"],"mappings":"0HAAA,OAAQA,QAAQ,CAAEC,SAAS,KAAO,OAAO,CACzC,MAAO,CAAAC,GAAG,KAAM,cAAc,CAC9B,MAAO,CAAAC,IAAI,KAAM,QAAQ,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE1B,QAAS,CAAAC,IAAIA,CAACC,KAAK,CAAE,CACnB,IAAAC,SAAA,CAAoCV,QAAQ,CAAC,EAAE,CAAC,CAAAW,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAzCG,UAAU,CAAAF,UAAA,IAAEG,aAAa,CAAAH,UAAA,IAEhC,IAAAI,UAAA,CAAgCf,QAAQ,CAAC,EAAE,CAAC,CAAAgB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAArCE,QAAQ,CAAAD,UAAA,IAAEE,WAAW,CAAAF,UAAA,IAC5B,IAAAG,UAAA,CAA8BnB,QAAQ,CAAC,EAAE,CAAC,CAAAoB,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAAnCE,OAAO,CAAAD,UAAA,IAAEE,UAAU,CAAAF,UAAA,IAE1B,IAAAG,UAAA,CAAwCvB,QAAQ,CAAC,EAAE,CAAC,CAAAwB,UAAA,CAAAZ,cAAA,CAAAW,UAAA,IAA7CE,YAAY,CAAAD,UAAA,IAAEE,eAAe,CAAAF,UAAA,IAEpCvB,SAAS,CAAC,UAAM,CACd0B,OAAO,CAACC,GAAG,CAAC,CAAC1B,GAAG,CAAC2B,WAAW,CAAC,CAAC,CAAE3B,GAAG,CAAC4B,eAAe,CAAC,CAAC,CAAC,CAAC,CACpDC,IAAI,CAAC,SAAAC,IAAA,CAA2C,KAAAC,KAAA,CAAArB,cAAA,CAAAoB,IAAA,IAAAE,MAAA,CAAAD,KAAA,IAAxCE,MAAM,CAAAD,MAAA,CAANC,MAAM,CAAEC,IAAI,CAAAF,MAAA,CAAJE,IAAI,CAAEC,KAAK,CAAAH,MAAA,CAALG,KAAK,CAAGZ,YAAY,CAAAQ,KAAA,IACzCnB,aAAa,CAACqB,MAAM,CAAC,CAErBjB,WAAW,CAACkB,IAAI,CAAC,CACjBd,UAAU,CAACe,KAAK,CAAC,CAEjBX,eAAe,CAACD,YAAY,CAAC,CAC/B,CAAC,CAAC,CAACa,KAAK,CAAC,SAAAC,GAAG,QAAI,CAAAC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,GAAC,CACrC,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEhC,KAAA,SAAMmC,SAAS,CAAC,SAAS,CAAAC,QAAA,eACvBpC,KAAA,YAASmC,SAAS,CAAC,SAAS,CAAAC,QAAA,eAC1BpC,KAAA,QAAKmC,SAAS,CAAC,2BAA2B,CAAAC,QAAA,eACxCtC,IAAA,QACEqC,SAAS,oBAAAE,MAAA,CAAqB/B,UAAU,EAAI,2BAA2B,CAAG,CAC1EgC,GAAG,CAAEhC,UAAW,CAACiC,GAAG,CAAC,uCAAS,CAAC,CAAC,cAClCzC,IAAA,WACEqC,SAAS,CAAC,6BAA6B,CACvCK,OAAO,CAAEtC,KAAK,CAACuC,YAAa,CACtB,CAAC,EACN,CAAC,cACNzC,KAAA,QAAKmC,SAAS,CAAC,oBAAoB,CAAAC,QAAA,eACjCtC,IAAA,OAAIqC,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAE1B,QAAQ,CAAK,CAAC,cAC7CZ,IAAA,WACEqC,SAAS,CAAC,8BAA8B,CACxCO,IAAI,CAAC,QAAQ,CACb,aAAW,4HAAwB,CACnCF,OAAO,CAAEtC,KAAK,CAACyC,aAAc,CACvB,CAAC,cACT7C,IAAA,MAAGqC,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAEtB,OAAO,CAAI,CAAC,EACtC,CAAC,cACNhB,IAAA,WACEqC,SAAS,CAAC,2BAA2B,CACrCO,IAAI,CAAC,QAAQ,CACb,aAAW,+IAA4B,CACvCF,OAAO,CAAEtC,KAAK,CAAC0C,UAAW,CACpB,CAAC,EACF,CAAC,cACV9C,IAAA,YAASqC,SAAS,CAAC,QAAQ,CAAC,aAAW,qLAAoC,CAAAC,QAAA,cACzEtC,IAAA,OAAIqC,SAAS,CAAC,cAAc,CAAAC,QAAA,CACzBlB,YAAY,CAAC2B,GAAG,CAAC,SAACC,IAAI,CAAK,CAC1B,mBAAOhD,IAAA,CAACF,IAAI,EAEVkD,IAAI,CAAEA,IAAK,CACXC,WAAW,CAAE,SAAAA,YAAA,QAAM,CAAA7C,KAAK,CAAC6C,WAAW,CAACD,IAAI,CAAC,EAAC,EAFtCA,IAAI,CAACE,GAEkC,CAAC,CACjD,CAAC,CAAC,CACA,CAAC,CACE,CAAC,EACN,CAAC,CAEX,CAEA,cAAe,CAAA/C,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}