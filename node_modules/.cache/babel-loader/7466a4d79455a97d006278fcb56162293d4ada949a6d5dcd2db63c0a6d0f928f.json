{"ast":null,"code":"import _defineProperty from\"/Users/dmitriklimkin/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/dmitriklimkin/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/dmitriklimkin/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useRef,useState}from'react';import FormWithValidation from'./FormWithValidation';import InputWithValidation from'./InputWithValidation';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditAvatarPopup(props){var avatarInputRef=useRef();var _useState=useState({userAvatar:''}),_useState2=_slicedToArray(_useState,2),inputValue=_useState2[0],setInputValue=_useState2[1];// handle change\nfunction handleValueUpdate(name,value){setInputValue(function(prevValues){return _objectSpread(_objectSpread({},prevValues),{},_defineProperty({},name,value));});}// handle submit\nfunction handleSubmit(){props.onUpdateAvatar({avatar:inputValue.userAvatar});avatarInputRef.current.value='';}return/*#__PURE__*/_jsxs(FormWithValidation,_objectSpread(_objectSpread({title:\"\\u041E\\u0431\\u043D\\u043E\\u0432\\u0438\\u0442\\u044C \\u0430\\u0432\\u0430\\u0442\\u0430\\u0440\",name:\"edit-avatar\",submitText:props.isLoading?props.loadingText:'Сохранить',onSubmit:handleSubmit,ariaLabel:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C.\"},props),{},{children:[/*#__PURE__*/_jsx(InputWithValidation,{ref:avatarInputRef,className:\"form__input\",\"aria-label\":\"\\u0421\\u0441\\u044B\\u043B\\u043A\\u0430 \\u043D\\u0430 \\u0438\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u0435.\",isShown:props.isOpen,type:\"url\",onUpdate:handleValueUpdate,name:\"userAvatar\",placeholder:\"\\u0421\\u0441\\u044B\\u043B\\u043A\\u0430 \\u043D\\u0430 \\u0438\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u0435\",required:true}),/*#__PURE__*/_jsx(\"span\",{className:\"profile-avatar-input-error form__input-error\"})]}));}export default EditAvatarPopup;","map":{"version":3,"names":["React","useRef","useState","FormWithValidation","InputWithValidation","jsx","_jsx","jsxs","_jsxs","EditAvatarPopup","props","avatarInputRef","_useState","userAvatar","_useState2","_slicedToArray","inputValue","setInputValue","handleValueUpdate","name","value","prevValues","_objectSpread","_defineProperty","handleSubmit","onUpdateAvatar","avatar","current","title","submitText","isLoading","loadingText","onSubmit","ariaLabel","children","ref","className","isShown","isOpen","type","onUpdate","placeholder","required"],"sources":["/Users/dmitriklimkin/dev/mesto-react/src/components/EditAvatarPopup.jsx"],"sourcesContent":["import React, {useRef, useState} from 'react';\n\nimport FormWithValidation from './FormWithValidation';\nimport InputWithValidation from './InputWithValidation';\n\n\nfunction EditAvatarPopup(props) {\n  const avatarInputRef = useRef();\n  \n  const [inputValue, setInputValue] = useState({userAvatar: ''});\n  \n  \n  // handle change\n  \n  function handleValueUpdate(name, value) {\n    setInputValue((prevValues) => ({\n      ...prevValues, [name]: value\n    }));\n  }\n  \n  \n  // handle submit\n  \n  function handleSubmit() {\n    props.onUpdateAvatar({avatar: inputValue.userAvatar});\n  \n    avatarInputRef.current.value = '';\n  }\n  \n  return (\n    <FormWithValidation\n      title=\"Обновить аватар\"\n      name=\"edit-avatar\"\n      submitText={props.isLoading ? props.loadingText : 'Сохранить'}\n      onSubmit={handleSubmit}\n      ariaLabel=\"Сохранить.\"\n      {...props}\n    >\n      <InputWithValidation\n        ref={avatarInputRef}\n        className=\"form__input\"\n        aria-label=\"Ссылка на изображение.\"\n        isShown={props.isOpen}\n        type=\"url\"\n        onUpdate={handleValueUpdate}\n        name=\"userAvatar\"\n        placeholder=\"Ссылка на изображение\"\n        required\n      />\n      <span className=\"profile-avatar-input-error form__input-error\"></span>\n    </FormWithValidation>\n  );\n}\n\nexport default EditAvatarPopup;"],"mappings":"+WAAA,MAAO,CAAAA,KAAK,EAAGC,MAAM,CAAEC,QAAQ,KAAO,OAAO,CAE7C,MAAO,CAAAC,kBAAkB,KAAM,sBAAsB,CACrD,MAAO,CAAAC,mBAAmB,KAAM,uBAAuB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAGxD,QAAS,CAAAC,eAAeA,CAACC,KAAK,CAAE,CAC9B,GAAM,CAAAC,cAAc,CAAGV,MAAM,CAAC,CAAC,CAE/B,IAAAW,SAAA,CAAoCV,QAAQ,CAAC,CAACW,UAAU,CAAE,EAAE,CAAC,CAAC,CAAAC,UAAA,CAAAC,cAAA,CAAAH,SAAA,IAAvDI,UAAU,CAAAF,UAAA,IAAEG,aAAa,CAAAH,UAAA,IAGhC;AAEA,QAAS,CAAAI,iBAAiBA,CAACC,IAAI,CAAEC,KAAK,CAAE,CACtCH,aAAa,CAAC,SAACI,UAAU,SAAAC,aAAA,CAAAA,aAAA,IACpBD,UAAU,KAAAE,eAAA,IAAGJ,IAAI,CAAGC,KAAK,IAC5B,CAAC,CACL,CAGA;AAEA,QAAS,CAAAI,YAAYA,CAAA,CAAG,CACtBd,KAAK,CAACe,cAAc,CAAC,CAACC,MAAM,CAAEV,UAAU,CAACH,UAAU,CAAC,CAAC,CAErDF,cAAc,CAACgB,OAAO,CAACP,KAAK,CAAG,EAAE,CACnC,CAEA,mBACEZ,KAAA,CAACL,kBAAkB,CAAAmB,aAAA,CAAAA,aAAA,EACjBM,KAAK,CAAC,uFAAiB,CACvBT,IAAI,CAAC,aAAa,CAClBU,UAAU,CAAEnB,KAAK,CAACoB,SAAS,CAAGpB,KAAK,CAACqB,WAAW,CAAG,WAAY,CAC9DC,QAAQ,CAAER,YAAa,CACvBS,SAAS,CAAC,yDAAY,EAClBvB,KAAK,MAAAwB,QAAA,eAET5B,IAAA,CAACF,mBAAmB,EAClB+B,GAAG,CAAExB,cAAe,CACpByB,SAAS,CAAC,aAAa,CACvB,aAAW,uHAAwB,CACnCC,OAAO,CAAE3B,KAAK,CAAC4B,MAAO,CACtBC,IAAI,CAAC,KAAK,CACVC,QAAQ,CAAEtB,iBAAkB,CAC5BC,IAAI,CAAC,YAAY,CACjBsB,WAAW,CAAC,sHAAuB,CACnCC,QAAQ,MACT,CAAC,cACFpC,IAAA,SAAM8B,SAAS,CAAC,8CAA8C,CAAO,CAAC,GACpD,CAAC,CAEzB,CAEA,cAAe,CAAA3B,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}